<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:composite="http://java.sun.com/jsf/composite"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:busqueda="http://java.sun.com/jsf/composite/busqueda">
    <composite:interface>
        <composite:attribute name="controlador"
                             required="true"                             
                             type="ec.com.atikasoft.proteus.controlador.base.CatalogoControlador"/>
        <composite:attribute name="titulo"
                             required="true"/>
        <composite:attribute name="extendido"
                             required="false"
                             default="false"
                             type="java.lang.Boolean"/>
        <composite:attribute name="mostrarGuardar"
                             required="false"
                             default="true"
                             type="java.lang.Boolean"/>

        <composite:facet name="contenido" required="true"/>        
    </composite:interface>

    <composite:implementation>
        <h:form id="#{msg['ec.gob.mrl.smp.genericos.formulario.id']}">           
            <p:panel>
                <h:panelGrid columns="2">                   
                    <p:commandButton value="#{msg['ec.gob.mrl.smp.generico.boton.guardar']}"
                                     action="#{cc.attrs.controlador.guardar}"
                                     rendered="#{cc.attrs.mostrarGuardar}"
                                     update="#{msg['ec.gob.mrl.smp.genericos.formulario.id']}"/>
                    <p:commandButton value="#{msg['ec.gob.mrl.smp.generico.boton.cancelar']}"
                                     ajax="#{false}"
                                     immediate="#{true}"
                                     action="#{cc.attrs.controlador.buscar}"/>
                </h:panelGrid>
            </p:panel>
            <p:panel header="#{cc.attrs.titulo}">
                <composite:renderFacet name="#{msg['ec.gob.mrl.smp.genericos.facet.contenido.name']}"/>
            </p:panel>
            <c:if test="#{cc.attrs.extendido}">
                <p:panel>
                    <h:panelGrid columns="2">                   
                        <p:commandButton value="#{msg['ec.gob.mrl.smp.generico.boton.guardar']}"
                                         action="#{cc.attrs.controlador.guardar}"
                                         update="#{msg['ec.gob.mrl.smp.genericos.formulario.id']}"/>
                        <p:commandButton value="#{msg['ec.gob.mrl.smp.generico.boton.cancelar']}"
                                         ajax="#{false}"
                                         immediate="#{true}"
                                         action="#{cc.attrs.controlador.buscar}"/>
                    </h:panelGrid>
                </p:panel>
            </c:if>
        </h:form>
    </composite:implementation>
</html>
